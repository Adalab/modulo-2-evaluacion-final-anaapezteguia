"use strict";const formElement=document.querySelector(".js-form"),inputElement=document.querySelector(".js-seriesInput"),searchBtnElement=document.querySelector(".js-searchBtn"),resetBtnElement=document.querySelector(".js-resetBtn"),ulResultsElement=document.querySelector(".js-searchList");let seriesArray=[],favSeries=[];function getSeries(){const e=inputElement.value;fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{for(const t of e)seriesArray.push(t.show);paintSearchResults()})}function handleForm(e){e.preventDefault()}function paintSearchResults(){let e="";for(const t of seriesArray){let s,i;isFavoriteSerie(t)?(s="favorite",i="â­‘"):(s="",i="");const r=t.id,n=t.name,c=t.image;e+=`<li class="searchList__li js-series" id="${r}">`,e+='<div class="searchList__container">',e+=`<img class="${s} favImg js-seriesImg" src="${null===c?"https://via.placeholder.com/210x295/dcbcc6/666666/?text=DEFAULT IMAGE":c.medium}" alt="${n}" title="${n}" size="210x295" >`,e+=`<h3 class="searchList__title ${s} title js-seriesTitle">${n} ${i}`,e+="</div>",e+="</li>"}ulResultsElement.innerHTML=e,listenSeriesEvents()}function isFavoriteSerie(e){return void 0!==favSeries.find(t=>t.id===e.id)}function listenSeriesEvents(){const e=document.querySelectorAll(".js-series");for(const t of e)t.addEventListener("click",handlePickedSeries)}function handlePickedSeries(e){const t=parseInt(e.currentTarget.id),s=favSeries.findIndex((function(e){return e.id===t})),i=seriesArray.find((function(e){return e.id===t})),r=i.id;-1===s?favSeries.push(i):s>=0&&t===r&&favSeries.splice(s,1),paintSearchResults()}searchBtnElement.addEventListener("click",getSeries),formElement.addEventListener("submit",handleForm),searchBtnElement.click();